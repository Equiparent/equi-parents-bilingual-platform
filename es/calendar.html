<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario Familiar - Equi-Parents</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-gradient: linear-gradient(160deg, #3b82f6 0%, #a855f7 100%);
            --card-bg: rgba(255, 255, 255, 0.1);
            --card-border: rgba(255, 255, 255, 0.2);
            --text-primary: #ffffff;
            --text-secondary: #d8b4fe; /* Lighter purple for secondary text */
            --day-bg: rgba(168, 85, 247, 0.2);
            --day-hover-bg: rgba(168, 85, 247, 0.4);
            --current-day-bg: #c084fc;
            --toggle-active-bg: #9333ea;
            --event-dot-color: #facc15;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 1rem;
        }

        .mobile-frame {
            max-width: 420px;
            margin: auto;
            background-color: #0f172a; /* Dark blue-gray background */
            border-radius: 2.5rem;
            padding: 0.75rem;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        .app-container {
            background: var(--bg-gradient);
            border-radius: 2rem;
            padding: 1.5rem 1rem;
            height: 800px;
            overflow-y: auto;
        }
        
        /* Custom scrollbar for webkit browsers */
        .app-container::-webkit-scrollbar { width: 0; }
        
        .app-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }
        .app-header-title h1 { font-size: 1.25rem; font-weight: 600; }
        .app-header-title p { font-size: 0.85rem; color: var(--text-secondary); }

        .icon-btn {
            background: none; border: none; color: var(--text-primary);
            font-size: 1.5rem; cursor: pointer;
        }

        .main-card {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--card-border);
            border-radius: 1.5rem;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .calendar-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .calendar-controls h2 { font-size: 1.5rem; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; }
        .month-nav { display: flex; align-items: center; gap: 0.5rem; }
        .month-nav button {
            background: none; border: none; color: var(--text-secondary);
            font-size: 1.5rem; cursor: pointer; transition: color 0.2s;
        }
        .month-nav button:hover { color: var(--text-primary); }

        .settings-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; gap: 1rem;}
        .parent-toggles { display: flex; background: rgba(0,0,0,0.2); border-radius: 50px; padding: 0.25rem; }
        .toggle-btn {
            background: none; border: none; color: var(--text-secondary);
            padding: 0.5rem 1rem; border-radius: 50px; cursor: pointer;
            font-weight: 500; transition: all 0.3s;
        }
        .toggle-btn.active { background-color: var(--toggle-active-bg); color: var(--text-primary); }
        .configure-btn { color: var(--text-secondary); font-size: 0.9rem; text-decoration: none; }
        
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; text-align: center; }
        .day-name { font-weight: 500; color: var(--text-secondary); font-size: 0.8rem; margin-bottom: 0.5rem; }

        .day {
            aspect-ratio: 1 / 1;
            display: grid;
            place-items: center;
            border-radius: 0.75rem;
            background-color: var(--day-bg);
            cursor: pointer;
            transition: background-color 0.2s;
            font-weight: 500;
            position: relative;
        }
        .day:hover { background-color: var(--day-hover-bg); }
        .day.other-month { opacity: 0.3; pointer-events: none; }
        .day.current-day { background-color: var(--current-day-bg); font-weight: 700; }
        
        .event-dot {
            position: absolute;
            bottom: 8px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: var(--event-dot-color);
        }

        .events-section { margin-top: 1.5rem; }
        .events-section h3 { font-size: 1.2rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;}
        .event-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid var(--card-border);
        }
        .event-item:last-child { border-bottom: none; }
        .event-item .name { font-weight: 500; }
        .event-item .date { font-size: 0.9rem; color: var(--text-secondary); }

    </style>
</head>
<body>
    <div class="mobile-frame">
        <div class="app-container">
            <header class="app-header">
                <a href="landing.html" class="icon-btn">‚Üê</a>
                <div class="app-header-title">
                    <h1>üóìÔ∏è Calendario Familiar</h1>
                    <p>Gestiona eventos y citas importantes</p>
                </div>
                <div style="width: 24px;"></div> <!-- Spacer -->
            </header>
    
            <main class="container">
                <div class="main-card">
                    <div class="calendar-controls">
                        <h2>üìÖ <span id="month-year"></span></h2>
                        <div class="month-nav">
                            <button id="prev-month">&lt;</button>
                            <button id="next-month">&gt;</button>
                        </div>
                    </div>

                    <div class="settings-bar">
                        <div class="parent-toggles">
                            <button class="toggle-btn">Madre</button>
                            <button class="toggle-btn active">Padre</button>
                            <button class="toggle-btn">Semanas alternas</button>
                        </div>
                        <a href="#" class="configure-btn">Configurar ‚öô</a>
                    </div>
                    
                    <div class="calendar-grid" id="calendar-weekdays"></div>
                    <div class="calendar-grid" id="calendar-days"></div>

                    <div class="events-section">
                        <h3>üìã Pr√≥ximos Eventos</h3>
                        <div class="event-item">
                            <span class="name">Obra de teatro Milan</span>
                            <span class="date">20/8/2025</span>
                        </div>
                        <div class="event-item">
                            <span class="name">Entrega de notas</span>
                            <span class="date">5/9/2025</span>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="../shared/language-switcher.js"></script>
    <script>
        const monthYearElement = document.getElementById('month-year');
        const calendarDays = document.getElementById('calendar-days');
        const prevMonthBtn = document.getElementById('prev-month');
        const nextMonthBtn = document.getElementById('next-month');
        const calendarWeekdays = document.getElementById('calendar-weekdays');

        let currentDate = new Date(2025, 8, 5); // September 5, 2025

        const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
        const dayNames = ["Lun", "Mar", "Mi√©", "Jue", "Vie", "S√°b", "Dom"];

        function renderCalendar() {
            calendarDays.innerHTML = '';
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();

            monthYearElement.textContent = `${monthNames[month]} ${year}`;

            const firstDayOfMonth = (new Date(year, month, 1).getDay() + 6) % 7; // Monday is 0
            const lastDateOfMonth = new Date(year, month + 1, 0).getDate();
            const lastDateOfPrevMonth = new Date(year, month, 0).getDate();

            // Previous month's days
            for (let i = firstDayOfMonth; i > 0; i--) {
                const dayElement = document.createElement('div');
                dayElement.classList.add('day', 'other-month');
                dayElement.textContent = lastDateOfPrevMonth - i + 1;
                calendarDays.appendChild(dayElement);
            }

            // Current month's days
            for (let i = 1; i <= lastDateOfMonth; i++) {
                const dayElement = document.createElement('div');
                dayElement.classList.add('day');
                dayElement.textContent = i;
                
                if (i === 5 && month === 8 && year === 2025) {
                    dayElement.classList.add('current-day');
                }
                
                // Add event dots based on screenshot
                if ((i === 6 || i === 27) && month === 8 && year === 2025) {
                    const dot = document.createElement('div');
                    dot.classList.add('event-dot');
                    dayElement.appendChild(dot);
                }

                calendarDays.appendChild(dayElement);
            }

            // Next month's days
            const totalDays = calendarDays.children.length;
            const remainingDays = (7 - (totalDays % 7)) % 7;
            for (let i = 1; i <= remainingDays; i++) {
                const dayElement = document.createElement('div');
                dayElement.classList.add('day', 'other-month');
                dayElement.textContent = i;
                calendarDays.appendChild(dayElement);
            }
        }
        
        function renderWeekdays() {
            dayNames.forEach(day => {
                const dayNameEl = document.createElement('div');
                dayNameEl.textContent = day;
                dayNameEl.classList.add('day-name');
                calendarWeekdays.appendChild(dayNameEl);
            });
        }

        prevMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        nextMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });
        
        document.addEventListener('DOMContentLoaded', () => {
            renderWeekdays();
            renderCalendar();
        });

    </script>
</body>
</html>
